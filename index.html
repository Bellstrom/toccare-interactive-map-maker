<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Toccare Interactive Map Maker</title>
  <link rel="stylesheet" href="styles.css">
  <script>
    const renderer = window.require('./js/renderer');
  </script>
</head>

<body onkeydown="renderer.pressKey(event)">
  <div class="form" id="form_background_tile">
    <p>Please enter width and height.</p>
    <p>Width (# of horizontal tiles):</p>
    <input type="text" id="text_background_tiles_width">
    <p>Height (# of vertical tiles):</p>
    <input type="text" id="text_background_tiles_height"><br>
    <br>
    <div id="buttons_background_tiles">
    </div>
  </div>
  <div class="form" id="form_landmark"></div>

  <div id="toolbar">
    <div class="grid-item">
      <button class="tool" id="button_select" disabled onclick="renderer.setActiveTool('select')">
        <img src="./images/button_blank.png">
      </button>
    </div>

    <div class="grid-item">
      <button class="tool" id="button_landmark_draw" onclick="renderer.setActiveTool('landmark_draw')">
        <img src="./images/button_blank.png">
      </button>
    </div>

    <div class="grid-item">
      <button class="tool" id="button_road_draw" onclick="renderer.setActiveTool('road_draw')">
        <img src="./images/button_blank.png">
      </button>
    </div>

    <div class="grid-item">
      <button class="tool" id="button_smart_road_draw" onclick="renderer.setActiveTool('smart_road_draw')">
        <img src="./images/button_blank.png">
      </button>
    </div>

    <div class="grid-item">
      <button class="tool" id="button_region_draw" onclick="renderer.setActiveTool('region_draw')">
        <img src="./images/button_blank.png">
      </button>
    </div>

    <div class="grid-item">
      <button class="tool" id="button_text" onclick="renderer.setActiveTool('text')">
        <img src="./images/button_blank.png">
      </button>
    </div>

    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>

    <div class="grid-item">
      <button class="tool" id="button_landmark_layer" onclick="renderer.setActiveLayer('landmark')">
        <img src="./images/button_blank.png">
      </button>
    </div>

    <div class="grid-item">
      <button class="tool" id="button_background_layer" onclick="renderer.setActiveLayer('background')" disabled>
        <img src="./images/button_blank.png">
      </button>
    </div>

    <div class="grid-item"></div>
    <div class="grid-item"></div>
  </div>

  <div id="imagebank">
    <div class="import">
      <button id="button_import" onclick="document.getElementById('image_to_import').click();">+</button>
      <input type="file" id="image_to_import" accept="image/*" onchange="renderer.addImageToBank(this.files)">
    </div>
    <div id="imagebank-grid">
    </div>

    <div class="centered" id="imagebank-text">
      <p>No images to display.</p>
    </div>
  </div>

  <div id="draggablemap" onmousedown="renderer.dragMap(event)" ondragover="renderer.allowDrop(event)" ondrop="renderer.addImageToMap(event)">
    <canvas id="mapgrid" onclick="renderer.deselectMapElement(event)"></canvas>
  </div>

  <script>
    renderer.initializeMap();
    //renderer.dragMap();
    renderer.loadDatabase();
  </script>
</body>

</html>
